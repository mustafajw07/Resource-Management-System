create database launchpad;

CREATE TABLE launchpad.technology (
	id int NOT NULL AUTO_INCREMENT,
    tech_name varchar(255),
    PRIMARY KEY (id)
);

CREATE TABLE launchpad.mentor (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100) NOT NULL
);

CREATE TABLE launchpad.intern (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  joining_date DATE NOT NULL,
  ongoing_tech INT,
  FOREIGN KEY (ongoing_tech) REFERENCES technology(id)
    ON DELETE SET NULL ON UPDATE CASCADE
);

CREATE TABLE launchpad.mentor_intern (
  mentor_id INT NOT NULL,
  intern_id INT NOT NULL,
  PRIMARY KEY (mentor_id, intern_id),
  FOREIGN KEY (mentor_id) REFERENCES mentor(id)
    ON DELETE CASCADE ON UPDATE CASCADE,
  FOREIGN KEY (intern_id) REFERENCES intern(id)
    ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE launchpad.rating (
  id INT AUTO_INCREMENT PRIMARY KEY,
  mentor_id INT NOT NULL,
  tech_id INT NOT NULL,
  rating INT CHECK (rating BETWEEN 1 AND 5),
  comments TEXT,
  FOREIGN KEY (mentor_id) REFERENCES mentor(id)
    ON DELETE CASCADE ON UPDATE CASCADE,
  FOREIGN KEY (tech_id) REFERENCES technology(id)
    ON DELETE CASCADE ON UPDATE CASCADE
);